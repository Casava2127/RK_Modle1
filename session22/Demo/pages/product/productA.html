<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Danh sách sản phẩm - Admin</title>
    <link
      rel="stylesheet"
      href="	https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="/session22/Demo/common/css/productA.css" />

    <script src="https://cdn.anychart.com/releases/v8/js/anychart-base.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-ui.min.js"></script>
    <script src="https://cdn.anychart.com/releases/v8/js/anychart-exports.min.js"></script>
    <link
      href="https://cdn.anychart.com/releases/v8/css/anychart-ui.min.css"
      type="text/css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.anychart.com/releases/v8/fonts/css/anychart-font.min.css"
      type="text/css"
      rel="stylesheet"
    />
    <style type="text/css">
      html,
      body,
      #container {
        width: 100%;
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>

  <body>
    <!-- cái này là bootStrap -->
    <header>
      <nav class="navbar bg-body-tertiary fixed-top">
        <div class="container-fluid">
          <a class="navbar-brand" href="#">Management and statistics</a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="offcanvas"
            data-bs-target="#offcanvasNavbar"
            aria-controls="offcanvasNavbar"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div
            class="offcanvas offcanvas-end"
            style="width: 300px; text-align: center"
            tabindex="-1"
            id="offcanvasNavbar"
            aria-labelledby="offcanvasNavbarLabel"
          >
            <div class="offcanvas-header">
              <h5 class="offcanvas-title" id="offcanvasNavbarLabel">
                Offcanvas
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="offcanvas"
                aria-label="Close"
              ></button>
            </div>
            <div class="offcanvas-body">
              <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
                <li class="nav-item">
                  <a
                    class="nav-link active"
                    aria-current="page"
                    href="/session22/Demo/pages/product/productA.html"
                    >Home</a
                  >
                </li>
                <li class="nav-item">
                  <a
                    class="nav-link"
                    href="/session22/Demo/pages/homePape/papeProductA_M/initProduct_M.html"
                    >Course Management</a
                  >
                </li>
                <li class="nav-item dropdown">
                  <a
                    class="nav-link dropdown-toggle"
                    href="#"
                    role="button"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                  >
                    Account Management
                  </a>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">Action</a></li>
                    <li>
                      <a class="dropdown-item" href="#">Another action</a>
                    </li>
                    <li>
                      <hr class="dropdown-divider" />
                    </li>
                    <li>
                      <a class="dropdown-item" id="logoutPA" href="#"
                        >Log Out</a
                      >
                    </li>
                  </ul>
                </li>
              </ul>
              <form class="d-flex mt-3" role="search">
                <input
                  class="form-control me-2"
                  type="search"
                  placeholder="Search"
                  aria-label="Search"
                />
                <button class="btn btn-outline-success" type="submit">
                  Search
                </button>
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>
    <h1>Admin's USERS management</h1>

    <div class="select-container">
      <select id="email-select">
        <option value="">Chọn email</option>
      </select>
      <!-- <button id="check-button">Kiểm Tra</button> -->
      <div id="result-display"></div>
      <button
        id="delete-button"
        style="display: none; border-radius: 5px; color: #ff3f3f"
      >
        Xóa1
      </button>
    </div>

    <ul class="product-list" id="product-list"></ul>
    <div
      class="container"
      style="margin-top: 20px; padding-bottom: 20px; margin-bottom: 30px"
    >
      <table
        class="table"
        style="
          text-align: center;
          width: 500px;
          display: inline-block;
          float: left;
        "
      >
        <thead>
          <tr>
            <th class="table-active">Product ID</th>
            <th scope="row" id="colProduct">Product Name</th>
            <th colspan="1" class="table-active" id="NameProduct">
              Category ID
            </th>
            <!-- <th>Image</th> -->
            <th>Quantity</th>
          </tr>
        </thead>
        <tbody id="productTableBody"></tbody>
      </table>
      <div
        id="chart-container"
        style="width: 600px; height: 400px; float: left"
      ></div>
    </div>
    <div id="pie-chart-container" style="width: 600px; height: 400px"></div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
      const logoutPA = document.getElementById("logoutPA");
      logoutPA.addEventListener("click", function () {
        localStorage.removeItem("loggedInUser");
        window.location.href = "/session22/Demo/pages/homePape/index1.html";
      });
    </script>
    <script src="/session22/Demo/common/js/productA.js"></script>
    <!-- Vẽ biểu đồ -->
    <script>
      // Tạo một mảng dữ liệu cho biểu đồ
      var chartData = [];

      // Lặp qua dữ liệu từ bảng HTML và thêm vào mảng dữ liệu biểu đồ
      var tableRows = document.querySelectorAll("#productTableBody tr");
      tableRows.forEach(function (row) {
        var productId = row.querySelector("td:nth-child(1)").textContent;
        var quantity = parseInt(
          row.querySelector("td:nth-child(4)").textContent
        );
        chartData.push({ productID: productId, quantity: quantity });
      });

      // Sử dụng thư viện AnyChart để vẽ biểu đồ cột
      anychart.onDocumentReady(function () {
        // Tạo biểu đồ cột
        var chart = anychart.column();

        // Thiết lập dữ liệu cho biểu đồ
        chart.data(chartData);

        // Thiết lập tiêu đề cho biểu đồ
        chart.title("Biểu đồ số lượng đăng ký theo Product ID");

        // Thiết lập tên trục x và y
        chart.xAxis().title("Product ID");
        chart.yAxis().title("Quantity");

        // Vẽ biểu đồ vào phần tử với ID là "chart-container"
        chart.container("chart-container");

        // Vẽ biểu đồ
        chart.draw();
      });
    </script>
  </body>
</html>
